---
title: "data_exploration"
author: "Manuel Cortes"
date: "2023-09-14"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
if (!require("BiocManager", quietly = TRUE))
    install.packages("BiocManager")
BiocManager::install("org.Hs.eg.db")
library(pheatmap)
library(rjson)
library(magrittr)
library(org.Hs.eg.db)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r loading in the data}
# Read a gene expression TSV (GSE11111.tsv) into R as a data.frame with base R
expression_df <- read.delim(file = "Analysis-Folder/data/SRP033566/SRP033566.tsv",  header = TRUE, stringsAsFactors = FALSE)
genes <- expression_df$Gene
unique_genes <- length(unique(genes))

# Reading JSON Files
metadata_list <- read.delim(file = "Analysis-Folder/data/SRP033566/metadata_SRP033566.tsv")
```

<!--use ENTREZID instead of SYMBOL if this is incorrect, ask prof-->

```{r map ensemble IDS to hugo}

mapped_list <- mapIds(
  org.Hs.eg.db, # Replace with annotation package for your organism
  keys = genes,
  keytype = "ENSEMBL", # Replace with the type of gene identifiers in your data
  column = "SYMBOL", # The type of gene identifiers you would like to map to
  multiVals = "list"
)

```
## Including Plots

```{r heatmap, echo=FALSE}
# Generate a heatmap SUPER WRONG RIGHT NOW
# pheatmap(expression_df, 
#          scale = "row",       # Scale genes to have mean=0 and variance=1
#          clustering_distance_rows = "euclidean", 
#          clustering_distance_cols = "euclidean", 
#          clustering_method = "complete", 
#          show_rownames = FALSE) # Hide row names for better visibility (you can change this as per your requirement)
```

